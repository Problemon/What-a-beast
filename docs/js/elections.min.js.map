{"version":3,"sources":["elections.js"],"names":["DATA","addClassHidden","removeClassHidden","showMenu","showLevel","hideLevel","gameElections","document","querySelector","gameElectionHeader","gameElectionsList","electionsButtonBack","templateElectionsTitle","title","templateElectionsItem","image","number","renderElections","images","background","ELECTIONS","nodeElectionsItems","map","index","style","backgroundImage","insertAdjacentHTML","join","hideElections","onButtonBackElectionsClick","onElectionsClick","evt","electionsItem","target","closest","indexLevel","Number","dataset","showElections","addEventListener","once","backToElections","level"],"mappings":"OAASA,SAAY,uBACZC,eAAgBC,sBAAyB,uBACzCC,aAAgB,uBAChBC,UAAWC,cAAiB,iBAErC,MAAMC,cAAgBC,SAASC,cAAc,cACvCC,mBAAqBH,cAAcE,cAAc,sBACjDE,kBAAoBH,SAASC,cAAc,oBAC3CG,oBAAsBL,cAAcE,cAAc,4BAElDI,uBAA0BC,GAAU,0CACHA,WAGjCC,sBAAwB,CAACC,EAAOC,IAAW,gDACJA,uDAEXD,wBAA4BA,sEACTA,4BAAgCA,sGAM/EE,gBAAkB,KACtB,MAAMJ,MAACA,EAAKK,OAAEA,EAAMC,WAAEA,GAAcnB,KAAKoB,UAEnCC,EAAqBH,EAAOI,KAAI,CAACP,EAAOQ,IAAUT,sBAAsBC,EAAOQ,EAAQ,KAE7FjB,cAAckB,MAAMC,gBAAkB,0BAA0BN,UAEhEV,mBAAmBiB,mBAAmB,YAAad,uBAAuBC,IAC1EH,kBAAkBgB,mBAAmB,YAAaL,EAAmBM,KAAK,QAGtEC,cAAgB,KACpB3B,eAAeK,gBAGXuB,2BAA6B,KACjCD,gBACAzB,YAGI2B,iBAAoBC,IACxB,MAAMC,EAAgBD,EAAIE,OAAOC,QAAQ,oBACnCC,EAAaC,OAAOJ,EAAcK,QAAQrB,QAAU,EAEtDgB,IACFJ,gBACAxB,UAAU+B,KAIRG,cAAgB,KACpBpC,kBAAkBI,eAElBK,oBAAoB4B,iBAAiB,QAASV,2BAA4B,CAACW,MAAM,IACjF9B,kBAAkB6B,iBAAiB,QAAST,iBAAkB,CAACU,MAAM,KAGjEC,gBAAmBC,IACvBJ,gBACAjC,UAAUqC,WAIJD,gBAAiBH,cAAeV,cAAeX","file":"elections.min.js","sourcesContent":["import { DATA } from './data.min.js';\nimport { addClassHidden, removeClassHidden } from './util.min.js';\nimport { showMenu } from './menu.min.js';\nimport { showLevel, hideLevel } from './level.min.js';\n\nconst gameElections = document.querySelector('.elections');\nconst gameElectionHeader = gameElections.querySelector('.elections__header');\nconst gameElectionsList = document.querySelector('.elections__list');\nconst electionsButtonBack = gameElections.querySelector('.elections__button--back');\n\nconst templateElectionsTitle = (title) => (`\n  <h2 class=\"elections__title title\">${title}</h2>\n`);\n\nconst templateElectionsItem = (image, number) => (`\n  <li class=\"elections__item\" data-number=\"${number}\">\n    <picture>\n      <source srcset=\"img/items/${image}.webp 1x, img/items/${image}@2x.webp 2x\">\n      <img class=\"elections__image\" src=\"img/items/${image}.png\" srcset=\"img/items/${image}@2x.png 2x\" width=\"200\"\n        height=\"200\" alt=\"\" draggable=\"false\">\n    </picture>\n  </li>\n`);\n\nconst renderElections = () => {\n  const {title, images, background} = DATA.ELECTIONS;\n\n  const nodeElectionsItems = images.map((image, index) => templateElectionsItem(image, index + 1));\n\n  gameElections.style.backgroundImage = `url(\"../img/background/${background}.jpg\")`;\n\n  gameElectionHeader.insertAdjacentHTML('beforeend', templateElectionsTitle(title));\n  gameElectionsList.insertAdjacentHTML('beforeend', nodeElectionsItems.join('\\n'));\n};\n\nconst hideElections = () => {\n  addClassHidden(gameElections);\n};\n\nconst onButtonBackElectionsClick = () => {\n  hideElections();\n  showMenu();\n};\n\nconst onElectionsClick = (evt) => {\n  const electionsItem = evt.target.closest('.elections__item');\n  const indexLevel = Number(electionsItem.dataset.number) - 1;\n\n  if (electionsItem) {\n    hideElections();\n    showLevel(indexLevel);\n  }\n};\n\nconst showElections = () => {\n  removeClassHidden(gameElections);\n\n  electionsButtonBack.addEventListener('click', onButtonBackElectionsClick, {once: true});\n  gameElectionsList.addEventListener('click', onElectionsClick, {once: true});\n};\n\nconst backToElections = (level) => {\n  showElections();\n  hideLevel(level);\n};\n\n\nexport {backToElections, showElections, hideElections, renderElections};\n"]}