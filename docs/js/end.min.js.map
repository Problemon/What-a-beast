{"version":3,"sources":["end.js"],"names":["removeClassHidden","addClassHidden","launchGame","hideLevel","splashScreen","document","querySelector","gameEnd","buttonAgain","numberRightAnswers","answersList","glider","Glider","slidesToShow","slidesToScroll","scrollLock","scrollPropagate","arrows","prev","next","gliderInner","hideEndGame","onButtonAgain","innerHTML","localStorage","removeItem","templateAnswerItem","img","createRightAnswersList","dataOfAnswers","answersItems","map","item","image","insertAdjacentHTML","join","showEndGameAnimation","setTimeout","showEndGame","level","givenRightAnswers","rightAnswers","setItem","length","addEventListener","once","refresh"],"mappings":"OAASA,kBAAmBC,mBAAsB,uBACzCC,eAAkB,uBAClBC,cAAiB,iBAE1B,MAAMC,aAAeC,SAASC,cAAc,kBACtCC,QAAUF,SAASC,cAAc,QACjCE,YAAcD,QAAQD,cAAc,kBACpCG,mBAAqBF,QAAQD,cAAc,uBAC3CI,YAAcH,QAAQD,cAAc,qBAEpCK,OAAS,IAAIC,OAAQF,YAAa,CACtCG,aAAc,EACdC,eAAgB,EAChBC,YAAY,EACZC,iBAAiB,EACjBC,OAAQ,CACNC,KAAM,eACNC,KAAM,kBAIJC,YAAcf,SAASC,cAAc,iBAGrCe,YAAc,KAClBpB,eAAeM,UAGXe,cAAgB,KAHpBrB,eAAeM,SAKfL,aACAkB,YAAYG,UAAY,GAExBC,aAAaC,WAAW,WACxBD,aAAaC,WAAW,gBACxBD,aAAaC,WAAW,qBACxBD,aAAaC,WAAW,SACxBD,aAAaC,WAAW,eAGpBC,mBAAsBC,GAAQ,kFAEQA,0BAItCC,uBAA0BC,IAC9B,MAAMC,EAAeD,EAAcE,KAAKC,IACtC,MAAMC,MAACA,GAASD,EAChB,MATgC,kFASNC,6BAG5Bb,YAAYc,mBAAmB,YAAaJ,EAAaK,KAAK,QAG1DC,qBAAuB,KAC3BpC,kBAAkBI,cAElBiC,YAAW,KACTpC,eAAeG,cACfJ,kBAAkBO,WACjB,MAGC+B,YAAc,CAACC,EAAOC,EAAmBC,KAC7CjB,aAAakB,QAAQ,WAAW,GAEhCjC,mBAAmBc,UAAY,GAAGiB,EAAkBG,YAAYF,EAAaE,eAC7EnC,YAAYoC,iBAAiB,QAAStB,cAAe,CAACuB,MAAM,IAE5D1C,UAAUoC,GAEVX,uBAAuBY,GACvB7B,OAAOmC,SAAQ,GAjBf9C,kBAAkBI,cAElBiC,YAAW,KACTpC,eAAeG,cACfJ,kBAAkBO,WACjB,aAkBI+B","file":"end.min.js","sourcesContent":["import { removeClassHidden, addClassHidden } from './util.min.js';\nimport { launchGame } from './game.min.js';\nimport { hideLevel } from './level.min.js';\n\nconst splashScreen = document.querySelector('.splash-screen');\nconst gameEnd = document.querySelector('.end');\nconst buttonAgain = gameEnd.querySelector('.button--again');\nconst numberRightAnswers = gameEnd.querySelector('.end__right-answers');\nconst answersList = gameEnd.querySelector('.end__answer-list');\n\nconst glider = new Glider (answersList, {\n  slidesToShow: 2,\n  slidesToScroll: 1,\n  scrollLock: true,\n  scrollPropagate: true,\n  arrows: {\n    prev: '.glider-prev',\n    next: '.glider-next',\n  },\n});\n\nconst gliderInner = document.querySelector('.glider-track');\n\n\nconst hideEndGame = () => {\n  addClassHidden(gameEnd);\n};\n\nconst onButtonAgain = () => {\n  hideEndGame();\n  launchGame();\n  gliderInner.innerHTML = '';\n\n  localStorage.removeItem('isEnded');\n  localStorage.removeItem('rightAnswers');\n  localStorage.removeItem('givenRightAnswers');\n  localStorage.removeItem('level');\n  localStorage.removeItem('indexLevel');\n};\n\nconst templateAnswerItem = (img) => (`\n    <li class=\"end__answer-item\">\n      <img class=\"end__answer-image\" src=\"${img}\" alt=\"\">\n    </li>\n`);\n\nconst createRightAnswersList = (dataOfAnswers) => {\n  const answersItems = dataOfAnswers.map((item) => {\n    const {image} = item;\n    return templateAnswerItem(image);\n  });\n\n  gliderInner.insertAdjacentHTML('beforeend', answersItems.join('\\n'));\n};\n\nconst showEndGameAnimation = () => {\n  removeClassHidden(splashScreen);\n\n  setTimeout(() => {\n    addClassHidden(splashScreen);\n    removeClassHidden(gameEnd);\n  }, 3000);\n};\n\nconst showEndGame = (level, givenRightAnswers, rightAnswers) => {\n  localStorage.setItem('isEnded', true);\n\n  numberRightAnswers.innerHTML = `${givenRightAnswers.length} / ${rightAnswers.length}&nbsp;`;\n  buttonAgain.addEventListener('click', onButtonAgain, {once: true});\n\n  hideLevel(level);\n\n  createRightAnswersList(givenRightAnswers);\n  glider.refresh(true);\n\n  showEndGameAnimation();\n\n};\n\nexport { showEndGame };\n\n\n"]}